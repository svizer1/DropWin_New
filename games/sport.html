<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DropWin - –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –°—Ç–∞–≤–∫–∏</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800;900&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #0a0e27;
            --bg-card: #141B3D;
            --accent: #00ff88;
            --accent-glow: rgba(0, 255, 136, 0.3);
            --purple: #7B2CBF;
            --purple-light: #9D4EDD;
            --orange: #FF6B35;
            --text: #E8F1FF;
            --text-dim: #8B9DC3;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 20%, rgba(123, 44, 191, 0.15), transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(0, 255, 136, 0.1), transparent 50%);
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .bg-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.3;
            animation: float 20s infinite ease-in-out;
        }

        .orb1 {
            width: 400px;
            height: 400px;
            background: linear-gradient(135deg, var(--purple), var(--purple-light));
            top: -200px;
            left: -200px;
            animation-delay: 0s;
        }

        .orb2 {
            width: 350px;
            height: 350px;
            background: linear-gradient(135deg, var(--accent), #00cc6a);
            bottom: -150px;
            right: -150px;
            animation-delay: -7s;
        }

        .orb3 {
            width: 300px;
            height: 300px;
            background: linear-gradient(135deg, var(--orange), #ff8c52);
            top: 50%;
            right: 10%;
            animation-delay: -14s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(50px, -50px) scale(1.1); }
            66% { transform: translate(-30px, 30px) scale(0.9); }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px;
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 48px;
            padding: 16px 0;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            letter-spacing: -2px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--purple-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            display: flex;
            align-items: center;
            gap: 12px;
            animation: logoGlow 3s ease-in-out infinite;
        }

        .logo::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120%;
            height: 120%;
            background: radial-gradient(circle, var(--accent-glow), transparent 70%);
            filter: blur(20px);
            z-index: -1;
            animation: pulse 2s ease-in-out infinite;
        }

        .logo-icon {
            font-size: 2.8rem;
            filter: drop-shadow(0 0 10px var(--accent));
            animation: rotate 10s linear infinite;
        }

        @keyframes logoGlow {
            0%, 100% { filter: drop-shadow(0 0 20px var(--accent-glow)); }
            50% { filter: drop-shadow(0 0 40px var(--accent)); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.2); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .balance {
            background: rgba(20, 27, 61, 0.8);
            backdrop-filter: blur(10px);
            border: 2px solid var(--accent);
            padding: 12px 24px;
            border-radius: 16px;
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--accent);
            box-shadow: 0 0 30px var(--accent-glow);
            animation: balancePulse 2s ease-in-out infinite;
        }

        @keyframes balancePulse {
            0%, 100% { box-shadow: 0 0 30px var(--accent-glow); }
            50% { box-shadow: 0 0 50px var(--accent); }
        }

        /* Sport Tabs */
        .sport-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 48px;
        }

        .sport-btn {
            background: rgba(20, 27, 61, 0.6);
            backdrop-filter: blur(10px);
            border: 2px solid transparent;
            padding: 24px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .sport-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: radial-gradient(circle, var(--accent-glow), transparent);
            transform: translate(-50%, -50%);
            transition: all 0.6s ease;
        }

        .sport-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .sport-btn:hover {
            transform: translateY(-8px);
            border-color: var(--accent);
            box-shadow: 0 20px 60px rgba(0, 255, 136, 0.2);
        }

        .sport-btn.active {
            background: linear-gradient(135deg, rgba(123, 44, 191, 0.3), rgba(0, 255, 136, 0.2));
            border-color: var(--accent);
            box-shadow: 0 20px 60px rgba(0, 255, 136, 0.3);
            transform: translateY(-8px);
        }

        .sport-icon {
            font-size: 3rem;
            display: block;
            margin-bottom: 12px;
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
            transition: all 0.4s ease;
            position: relative;
            z-index: 1;
        }

        .sport-btn:hover .sport-icon {
            transform: scale(1.2) rotate(5deg);
        }

        .sport-btn.active .sport-icon {
            animation: bounce 0.6s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1) translateY(0); }
            50% { transform: scale(1.3) translateY(-10px); }
        }

        .sport-name {
            font-weight: 700;
            font-size: 1.2rem;
            position: relative;
            z-index: 1;
        }

        /* Game Arena */
        .game-section {
            background: rgba(20, 27, 61, 0.4);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(123, 44, 191, 0.3);
            border-radius: 32px;
            padding: 40px;
            margin-bottom: 32px;
            box-shadow: 0 20px 80px rgba(0, 0, 0, 0.3);
        }

        .scoreboard {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            margin-bottom: 40px;
        }

        .score-box {
            background: linear-gradient(135deg, var(--purple), var(--purple-light));
            padding: 24px 48px;
            border-radius: 24px;
            font-size: 3rem;
            font-weight: 900;
            font-family: 'Orbitron', sans-serif;
            box-shadow: 0 10px 40px rgba(123, 44, 191, 0.4);
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .score-box.score-update {
            animation: scoreFlash 0.5s ease;
        }

        @keyframes scoreFlash {
            0%, 100% { transform: scale(1); }
            50% { 
                transform: scale(1.2); 
                box-shadow: 0 20px 80px var(--accent);
                background: linear-gradient(135deg, var(--accent), #00cc6a);
            }
        }

        .score-box::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .vs-text {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-dim);
        }

        /* Arena Styles */
        .arena {
            position: relative;
            min-height: 450px;
            border-radius: 24px;
            margin-bottom: 32px;
            overflow: hidden;
            display: none;
        }

        .arena.active {
            display: block;
            animation: fadeIn 0.6s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Football */
        .football-arena {
            background: linear-gradient(90deg, 
                #1a4d2e 0%, #2d5f3e 20%, #1a4d2e 40%, #2d5f3e 60%, #1a4d2e 80%, #2d5f3e 100%);
            box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.5);
        }

        .field-line {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
        }

        .center-line {
            left: 50%;
            top: 0;
            width: 2px;
            height: 100%;
        }

        .center-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }

        .player {
            position: absolute;
            font-size: 3.5rem;
            filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.8));
            animation: playerIdle 3s ease-in-out infinite;
        }

        .player-home-1 { left: 15%; top: 30%; animation-delay: 0s; }
        .player-home-2 { left: 15%; top: 65%; animation-delay: 0.5s; }
        .player-away-1 { right: 15%; top: 35%; animation-delay: 1s; }
        .player-away-2 { right: 15%; top: 60%; animation-delay: 1.5s; }

        @keyframes playerIdle {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-8px) scale(1.05); }
        }

        .ball {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: radial-gradient(circle at 30% 30%, #fff, #ddd);
            border-radius: 50%;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6), 0 0 0 0 rgba(255, 255, 255, 0.8);
            transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            animation: ballGlow 2s ease-in-out infinite;
        }

        @keyframes ballGlow {
            0%, 100% { box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6), 0 0 0 0 rgba(255, 255, 255, 0.8); }
            50% { box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6), 0 0 20px 10px rgba(255, 255, 255, 0.4); }
        }

        .ball.goal-left {
            animation: goalAnimationLeft 1.5s ease-out forwards;
        }

        .ball.goal-right {
            animation: goalAnimationRight 1.5s ease-out forwards;
        }

        @keyframes goalAnimationLeft {
            0% { 
                transform: translate(-50%, -50%) scale(1); 
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);
            }
            15% {
                transform: translate(-150%, -100%) scale(1.3) rotate(180deg);
                box-shadow: 0 15px 40px rgba(255, 255, 255, 0.5);
            }
            30% { 
                transform: translate(-300%, -150%) scale(1.8) rotate(540deg); 
                box-shadow: 0 20px 60px rgba(255, 215, 0, 0.8);
            }
            60% { 
                transform: translate(-500%, -50%) scale(1.2) rotate(1080deg); 
                box-shadow: 0 15px 40px rgba(0, 255, 136, 0.6);
            }
            100% { 
                transform: translate(-650%, -50%) scale(0.2) rotate(1800deg); 
                opacity: 0;
                box-shadow: 0 0 100px rgba(0, 255, 136, 1);
            }
        }

        @keyframes goalAnimationRight {
            0% { 
                transform: translate(-50%, -50%) scale(1); 
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);
            }
            15% {
                transform: translate(100%, -100%) scale(1.3) rotate(-180deg);
                box-shadow: 0 15px 40px rgba(255, 255, 255, 0.5);
            }
            30% { 
                transform: translate(250%, -150%) scale(1.8) rotate(-540deg); 
                box-shadow: 0 20px 60px rgba(255, 215, 0, 0.8);
            }
            60% { 
                transform: translate(450%, -50%) scale(1.2) rotate(-1080deg); 
                box-shadow: 0 15px 40px rgba(123, 44, 191, 0.6);
            }
            100% { 
                transform: translate(600%, -50%) scale(0.2) rotate(-1800deg); 
                opacity: 0;
                box-shadow: 0 0 100px rgba(123, 44, 191, 1);
            }
        }

        /* Basketball */
        .basketball-arena {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 50%, #8B4513 100%);
            box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.4);
        }

        .court-line {
            position: absolute;
            border: 2px solid rgba(255, 255, 255, 0.25);
        }

        .three-line {
            width: 250px;
            height: 150px;
            border-radius: 0 0 125px 125px;
            border-top: none;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
        }

        .hoop {
            position: absolute;
            width: 80px;
            height: 15px;
            background: linear-gradient(to bottom, #FF6347, #FF4500);
            border-radius: 10px;
            box-shadow: 0 6px 20px rgba(255, 99, 71, 0.8);
            top: 25%;
            animation: hoopGlow 2s ease-in-out infinite;
        }

        @keyframes hoopGlow {
            0%, 100% { box-shadow: 0 6px 20px rgba(255, 99, 71, 0.5); }
            50% { box-shadow: 0 6px 30px rgba(255, 99, 71, 1), 0 0 40px rgba(255, 140, 66, 0.5); }
        }

        .hoop-left { left: 8%; }
        .hoop-right { right: 8%; }

        .net {
            position: absolute;
            width: 60px;
            height: 40px;
            border-left: 2px solid rgba(255, 255, 255, 0.3);
            border-right: 2px solid rgba(255, 255, 255, 0.3);
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 0 0 30px 30px;
            top: 15px;
            left: 10px;
        }

        .basketball {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background: radial-gradient(circle at 35% 35%, #FF8C42, #FF6B35);
            border-radius: 50%;
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.6);
            transition: all 0.9s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .basketball::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: rgba(0, 0, 0, 0.2);
            transform: translateY(-50%);
        }

        .basketball::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: rgba(0, 0, 0, 0.2);
            transform: translateX(-50%);
        }

        .basketball.shot-left {
            animation: shotLeft 1.6s ease-out forwards;
        }

        .basketball.shot-right {
            animation: shotRight 1.6s ease-out forwards;
        }

        @keyframes shotLeft {
            0% { 
                transform: translate(-50%, -50%) scale(1); 
                box-shadow: 0 10px 30px rgba(255, 107, 53, 0.6);
            }
            25% {
                transform: translate(-150%, -180%) scale(1.2) rotate(270deg);
                box-shadow: 0 15px 40px rgba(255, 140, 66, 0.8);
            }
            40% { 
                transform: translate(-250%, -250%) scale(1.6) rotate(540deg); 
                box-shadow: 0 20px 60px rgba(255, 215, 0, 1);
            }
            55% {
                transform: translate(-350%, -180%) scale(1.3) rotate(720deg);
                box-shadow: 0 15px 40px rgba(0, 255, 136, 0.8);
            }
            70% { 
                transform: translate(-450%, -100%) scale(1.1) rotate(900deg); 
                box-shadow: 0 10px 30px rgba(0, 255, 136, 0.6);
            }
            85% {
                transform: translate(-500%, -20%) scale(0.7) rotate(1080deg);
                box-shadow: 0 5px 20px rgba(0, 255, 136, 0.4);
            }
            100% { 
                transform: translate(-520%, 10%) scale(0.1) rotate(1260deg); 
                opacity: 0;
                box-shadow: 0 0 100px rgba(0, 255, 136, 1);
            }
        }

        @keyframes shotRight {
            0% { 
                transform: translate(-50%, -50%) scale(1); 
                box-shadow: 0 10px 30px rgba(255, 107, 53, 0.6);
            }
            25% {
                transform: translate(100%, -180%) scale(1.2) rotate(-270deg);
                box-shadow: 0 15px 40px rgba(255, 140, 66, 0.8);
            }
            40% { 
                transform: translate(200%, -250%) scale(1.6) rotate(-540deg); 
                box-shadow: 0 20px 60px rgba(255, 215, 0, 1);
            }
            55% {
                transform: translate(300%, -180%) scale(1.3) rotate(-720deg);
                box-shadow: 0 15px 40px rgba(123, 44, 191, 0.8);
            }
            70% { 
                transform: translate(400%, -100%) scale(1.1) rotate(-900deg); 
                box-shadow: 0 10px 30px rgba(123, 44, 191, 0.6);
            }
            85% {
                transform: translate(450%, -20%) scale(0.7) rotate(-1080deg);
                box-shadow: 0 5px 20px rgba(123, 44, 191, 0.4);
            }
            100% { 
                transform: translate(470%, 10%) scale(0.1) rotate(-1260deg); 
                opacity: 0;
                box-shadow: 0 0 100px rgba(123, 44, 191, 1);
            }
        }

        /* Horse Racing */
        .horse-arena {
            background: linear-gradient(180deg, #654321 0%, #8B4513 50%, #654321 100%);
            box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .track {
            position: absolute;
            height: 3px;
            background: rgba(255, 255, 255, 0.15);
            left: 0;
            right: 0;
        }

        .track-1 { top: 20%; }
        .track-2 { top: 50%; }
        .track-3 { top: 80%; }

        .finish {
            position: absolute;
            right: 8%;
            top: 0;
            bottom: 0;
            width: 8px;
            background: repeating-linear-gradient(
                0deg,
                #000 0px,
                #000 15px,
                #fff 15px,
                #fff 30px
            );
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
            animation: finishGlow 1.5s ease-in-out infinite;
        }

        @keyframes finishGlow {
            0%, 100% { box-shadow: 0 0 30px rgba(255, 255, 255, 0.5); }
            50% { box-shadow: 0 0 50px rgba(255, 215, 0, 1); }
        }

        .horse {
            position: absolute;
            font-size: 4rem;
            right: 95%;
            transition: right 0.15s linear;
            filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.7));
            transform: scaleX(-1);
        }

        .horse-1 { top: calc(20% - 40px); }
        .horse-2 { top: calc(50% - 40px); }
        .horse-3 { top: calc(80% - 40px); }

        .horse.running {
            animation: horseRun 0.25s infinite;
        }

        .horse.winner {
            animation: horseWin 0.6s ease-in-out;
        }

        @keyframes horseRun {
            0%, 100% { transform: scaleX(-1) translateY(0) scaleY(1); }
            50% { transform: scaleX(-1) translateY(-12px) scaleY(1.05); }
        }

        @keyframes horseWin {
            0%, 100% { transform: scaleX(-1) scale(1); }
            50% { transform: scaleX(-1) scale(1.3) translateY(-20px); }
        }

        .dust {
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(139, 69, 19, 0.5);
            border-radius: 50%;
            pointer-events: none;
            animation: dustFly 1s ease-out forwards;
        }

        @keyframes dustFly {
            0% { 
                transform: scale(0); 
                opacity: 0.8; 
            }
            100% { 
                transform: scale(2) translateX(-50px) translateY(-30px); 
                opacity: 0; 
            }
        }

        /* Betting Panel */
        .bet-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .bet-card {
            background: rgba(20, 27, 61, 0.6);
            backdrop-filter: blur(10px);
            border: 2px solid transparent;
            padding: 28px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .bet-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .bet-card:hover::before {
            left: 100%;
        }

        .bet-card:hover {
            transform: translateY(-8px);
            border-color: var(--accent);
            box-shadow: 0 20px 60px var(--accent-glow);
        }

        .bet-card.selected {
            background: linear-gradient(135deg, rgba(123, 44, 191, 0.4), rgba(0, 255, 136, 0.2));
            border-color: var(--accent);
            box-shadow: 0 20px 60px var(--accent);
            transform: translateY(-8px) scale(1.05);
        }

        .bet-team {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 12px;
        }

        .bet-odds {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent);
            font-family: 'Orbitron', sans-serif;
        }

        /* Bet Controls */
        .bet-controls {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        .bet-input {
            background: rgba(20, 27, 61, 0.8);
            border: 2px solid var(--purple);
            border-radius: 16px;
            padding: 16px 28px;
            color: var(--text);
            font-size: 1.3rem;
            font-weight: 700;
            width: 220px;
            text-align: center;
            font-family: 'Orbitron', sans-serif;
            transition: all 0.3s ease;
        }

        .bet-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 30px var(--accent-glow);
        }

        .place-bet {
            background: linear-gradient(135deg, var(--accent), #00cc6a);
            border: none;
            border-radius: 16px;
            padding: 16px 48px;
            font-size: 1.3rem;
            font-weight: 800;
            color: #000;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 10px 40px var(--accent-glow);
            position: relative;
            overflow: hidden;
        }

        .place-bet::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }

        .place-bet:hover::before {
            width: 300px;
            height: 300px;
        }

        .place-bet:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 20px 60px var(--accent);
        }

        .place-bet:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Win Modal */
        .win-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease;
        }

        .win-modal.show {
            opacity: 1;
            pointer-events: auto;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: var(--accent);
            top: -10px;
            animation: confettiFall 3s linear forwards;
        }

        @keyframes confettiFall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .win-content {
            background: linear-gradient(135deg, var(--bg-card), var(--bg));
            border: 3px solid var(--accent);
            border-radius: 32px;
            padding: 60px;
            text-align: center;
            max-width: 500px;
            box-shadow: 0 0 100px var(--accent);
            transform: scale(0.8);
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

        .win-content::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                transparent, 
                var(--accent), 
                transparent 30%
            );
            animation: winRotate 4s linear infinite;
        }

        .win-content::after {
            content: '';
            position: absolute;
            inset: 3px;
            background: linear-gradient(135deg, var(--bg-card), var(--bg));
            border-radius: 29px;
        }

        @keyframes winRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .win-modal.show .win-content {
            transform: scale(1);
        }

        .win-emoji {
            font-size: 7rem;
            margin-bottom: 24px;
            animation: celebration 1s ease-in-out infinite;
            position: relative;
            z-index: 10;
        }

        @keyframes celebration {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.2) rotate(-10deg); }
            75% { transform: scale(1.2) rotate(10deg); }
        }

        .win-title {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--accent), var(--purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-family: 'Orbitron', sans-serif;
            position: relative;
            z-index: 10;
        }

        .win-amount {
            font-size: 3.5rem;
            font-weight: 900;
            color: var(--accent);
            margin-bottom: 32px;
            font-family: 'Orbitron', sans-serif;
            text-shadow: 0 0 40px var(--accent-glow);
            position: relative;
            z-index: 10;
        }

        .claim-btn {
            background: linear-gradient(135deg, var(--accent), #00cc6a);
            border: none;
            border-radius: 16px;
            padding: 18px 56px;
            font-size: 1.4rem;
            font-weight: 800;
            color: #000;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 10px 40px var(--accent);
            position: relative;
            z-index: 10;
        }

        .claim-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 20px 60px var(--accent);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .logo {
                font-size: 1.8rem;
            }

            .sport-selector {
                grid-template-columns: 1fr;
            }

            .scoreboard {
                gap: 20px;
            }

            .score-box {
                padding: 16px 32px;
                font-size: 2rem;
            }

            .game-section {
                padding: 24px;
            }

            .bet-controls {
                flex-direction: column;
                width: 100%;
            }

            .bet-input,
            .place-bet {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="animated-bg">
        <div class="bg-orb orb1"></div>
        <div class="bg-orb orb2"></div>
        <div class="bg-orb orb3"></div>
    </div>

    <div class="container">
        <header>
            <div class="logo">
                <span class="logo-icon">üíé</span>
                <span>DropWin</span>
            </div>
            <div class="balance">
                üí∞ <span id="balance">1000</span>‚ÇΩ
            </div>
        </header>

        <div class="sport-selector">
            <div class="sport-btn active" data-sport="football">
                <span class="sport-icon">‚öΩ</span>
                <div class="sport-name">–§—É—Ç–±–æ–ª</div>
            </div>
            <div class="sport-btn" data-sport="basketball">
                <span class="sport-icon">üèÄ</span>
                <div class="sport-name">–ë–∞—Å–∫–µ—Ç–±–æ–ª</div>
            </div>
            <div class="sport-btn" data-sport="horses">
                <span class="sport-icon">üèá</span>
                <div class="sport-name">–°–∫–∞—á–∫–∏</div>
            </div>
        </div>

        <div class="game-section">
            <div class="scoreboard">
                <div class="score-box" id="score1">0</div>
                <div class="vs-text">VS</div>
                <div class="score-box" id="score2">0</div>
            </div>

            <div class="arena football-arena active" id="footballArena">
                <div class="field-line center-line"></div>
                <div class="center-circle"></div>
                <div class="player player-home-1">‚öΩ</div>
                <div class="player player-home-2">‚öΩ</div>
                <div class="player player-away-1">üéØ</div>
                <div class="player player-away-2">üéØ</div>
                <div class="ball" id="ball"></div>
            </div>

            <div class="arena basketball-arena" id="basketballArena">
                <div class="court-line three-line"></div>
                <div class="hoop hoop-left">
                    <div class="net"></div>
                </div>
                <div class="hoop hoop-right">
                    <div class="net"></div>
                </div>
                <div class="basketball" id="basketball"></div>
            </div>

            <div class="arena horse-arena" id="horseArena">
                <div class="track track-1"></div>
                <div class="track track-2"></div>
                <div class="track track-3"></div>
                <div class="finish"></div>
                <div class="horse horse-1" id="horse1">üêé</div>
                <div class="horse horse-2" id="horse2">üê¥</div>
                <div class="horse horse-3" id="horse3">üèá</div>
            </div>

            <div class="bet-options" id="betOptions">
                <div class="bet-card" data-bet="team1">
                    <div class="bet-team" id="team1Name">–†–µ–∞–ª –ú–∞–¥—Ä–∏–¥</div>
                    <div class="bet-odds">√ó<span id="odds1">2.1</span></div>
                </div>
                <div class="bet-card" data-bet="draw">
                    <div class="bet-team">–ù–∏—á—å—è</div>
                    <div class="bet-odds">√ó<span id="oddsDraw">3.2</span></div>
                </div>
                <div class="bet-card" data-bet="team2">
                    <div class="bet-team" id="team2Name">–ë–∞—Ä—Å–µ–ª–æ–Ω–∞</div>
                    <div class="bet-odds">√ó<span id="odds2">2.3</span></div>
                </div>
            </div>

            <div class="bet-controls">
                <input type="number" class="bet-input" id="betAmount" placeholder="–°—Ç–∞–≤–∫–∞" min="10" value="100">
                <button class="place-bet" id="placeBet">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É üöÄ</button>
            </div>
        </div>
    </div>

    <div class="win-modal" id="winModal">
        <div class="win-content">
            <div class="win-emoji">üéä</div>
            <div class="win-title">–ü–û–ë–ï–î–ê!</div>
            <div class="win-amount" id="winAmount">+500‚ÇΩ</div>
            <button class="claim-btn" id="claimBtn">–ó–∞–±—Ä–∞—Ç—å –≤—ã–∏–≥—Ä—ã—à</button>
        </div>
    </div>

    <script>
        let balance = window.balance ?? 1000;
        let currentSport = 'football';
        let selectedBet = null;
        let isPlaying = false;

        const $ = id => document.getElementById(id);
        const $$ = sel => document.querySelectorAll(sel);

        // Elements
        const balanceEl = $('balance');
        const betAmountEl = $('betAmount');
        const placeBetBtn = $('placeBet');
        const winModal = $('winModal');
        const winAmountEl = $('winAmount');
        const score1El = $('score1');
        const score2El = $('score2');

        // Sport switching
        $$('.sport-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                if (isPlaying) return;
                
                $$('.sport-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentSport = btn.dataset.sport;
                switchSport();
            });
        });

        function switchSport() {
            $$('.arena').forEach(arena => arena.classList.remove('active'));
            selectedBet = null;
            $$('.bet-card').forEach(card => card.classList.remove('selected'));

            const betOptions = $('betOptions');
            
            if (currentSport === 'football') {
                $('footballArena').classList.add('active');
                $('team1Name').textContent = '–†–µ–∞–ª –ú–∞–¥—Ä–∏–¥';
                $('team2Name').textContent = '–ë–∞—Ä—Å–µ–ª–æ–Ω–∞';
                $('odds1').textContent = '2.1';
                $('odds2').textContent = '2.3';
                $('oddsDraw').textContent = '3.2';
                betOptions.innerHTML = `
                    <div class="bet-card" data-bet="team1">
                        <div class="bet-team">–†–µ–∞–ª –ú–∞–¥—Ä–∏–¥</div>
                        <div class="bet-odds">√ó<span>2.1</span></div>
                    </div>
                    <div class="bet-card" data-bet="draw">
                        <div class="bet-team">–ù–∏—á—å—è</div>
                        <div class="bet-odds">√ó<span>3.2</span></div>
                    </div>
                    <div class="bet-card" data-bet="team2">
                        <div class="bet-team">–ë–∞—Ä—Å–µ–ª–æ–Ω–∞</div>
                        <div class="bet-odds">√ó<span>2.3</span></div>
                    </div>
                `;
            } else if (currentSport === 'basketball') {
                $('basketballArena').classList.add('active');
                betOptions.innerHTML = `
                    <div class="bet-card" data-bet="team1">
                        <div class="bet-team">Lakers</div>
                        <div class="bet-odds">√ó<span>1.8</span></div>
                    </div>
                    <div class="bet-card" data-bet="team2">
                        <div class="bet-team">Bulls</div>
                        <div class="bet-odds">√ó<span>2.2</span></div>
                    </div>
                `;
            } else {
                $('horseArena').classList.add('active');
                betOptions.innerHTML = `
                    <div class="bet-card" data-bet="horse1">
                        <div class="bet-team">üêé –ö–æ–Ω—å ‚Ññ1</div>
                        <div class="bet-odds">√ó<span>2.5</span></div>
                    </div>
                    <div class="bet-card" data-bet="horse2">
                        <div class="bet-team">üê¥ –ö–æ–Ω—å ‚Ññ2</div>
                        <div class="bet-odds">√ó<span>3.0</span></div>
                    </div>
                    <div class="bet-card" data-bet="horse3">
                        <div class="bet-team">üèá –ö–æ–Ω—å ‚Ññ3</div>
                        <div class="bet-odds">√ó<span>2.2</span></div>
                    </div>
                `;
            }
            
            resetGame();
            attachBetListeners();
        }

        function attachBetListeners() {
            $$('.bet-card').forEach(card => {
                card.addEventListener('click', () => {
                    if (isPlaying) return;
                    $$('.bet-card').forEach(c => c.classList.remove('selected'));
                    card.classList.add('selected');
                    selectedBet = card.dataset.bet;
                });
            });
        }

        attachBetListeners();

        // Place bet
        placeBetBtn.addEventListener('click', () => {
            if (isPlaying) return;
            
            if (!selectedBet) {
                alert('‚ö†Ô∏è –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç —Å—Ç–∞–≤–∫–∏!');
                return;
            }

            const amount = parseInt(betAmountEl.value);
            if (amount < 10 || amount > balance) {
                alert('‚ö†Ô∏è –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—É–º–º–∞!');
                return;
            }

            balance -= amount;
            balanceEl.textContent = balance;
            isPlaying = true;
            placeBetBtn.disabled = true;

            startGame(amount);
        });

        function startGame(amount) {
            score1El.textContent = '0';
            score2El.textContent = '0';

            if (currentSport === 'football') {
                playFootball(amount);
            } else if (currentSport === 'basketball') {
                playBasketball(amount);
            } else {
                playHorseRace(amount);
            }
        }

        function playFootball(amount) {
            let s1 = 0, s2 = 0;
            const ball = $('ball');

            const interval = setInterval(() => {
                const scorer = Math.random() > 0.5 ? 1 : 2;
                
                if (scorer === 1) {
                    s1++;
                    ball.className = 'ball goal-left';
                    setTimeout(() => {
                        score1El.textContent = s1;
                        score1El.classList.add('score-update');
                        setTimeout(() => score1El.classList.remove('score-update'), 500);
                    }, 600);
                } else {
                    s2++;
                    ball.className = 'ball goal-right';
                    setTimeout(() => {
                        score2El.textContent = s2;
                        score2El.classList.add('score-update');
                        setTimeout(() => score2El.classList.remove('score-update'), 500);
                    }, 600);
                }

                setTimeout(() => ball.className = 'ball', 1500);

                if (s1 + s2 >= 4) {
                    clearInterval(interval);
                    setTimeout(() => endGame(s1, s2, amount, 2.1, 2.3, 3.2), 2000);
                }
            }, 2800);
        }

        function playBasketball(amount) {
            let s1 = 0, s2 = 0;
            const ball = $('basketball');

            const interval = setInterval(() => {
                const scorer = Math.random() > 0.5 ? 1 : 2;
                const points = Math.random() > 0.65 ? 3 : 2;
                
                if (scorer === 1) {
                    s1 += points;
                    ball.className = 'basketball shot-left';
                    setTimeout(() => {
                        score1El.textContent = s1;
                        score1El.classList.add('score-update');
                        setTimeout(() => score1El.classList.remove('score-update'), 500);
                    }, 700);
                } else {
                    s2 += points;
                    ball.className = 'basketball shot-right';
                    setTimeout(() => {
                        score2El.textContent = s2;
                        score2El.classList.add('score-update');
                        setTimeout(() => score2El.classList.remove('score-update'), 500);
                    }, 700);
                }

                setTimeout(() => ball.className = 'basketball', 1600);

                if (s1 + s2 >= 25) {
                    clearInterval(interval);
                    setTimeout(() => endGame(s1, s2, amount, 1.8, 2.2), 2000);
                }
            }, 2200);
        }

        function playHorseRace(amount) {
            const horses = [$('horse1'), $('horse2'), $('horse3')];
            const horseArena = $('horseArena');
            horses.forEach(h => h.classList.add('running'));

            const pos = [95, 95, 95];
            const speeds = [
                2.5 + Math.random() * 2.5,
                2.5 + Math.random() * 2.5,
                2.5 + Math.random() * 2.5
            ];

            let dustInterval = setInterval(() => {
                horses.forEach((horse, i) => {
                    if (pos[i] > 5) {
                        const dust = document.createElement('div');
                        dust.className = 'dust';
                        const rect = horse.getBoundingClientRect();
                        const arenaRect = horseArena.getBoundingClientRect();
                        dust.style.left = (rect.left - arenaRect.left + Math.random() * 30) + 'px';
                        dust.style.top = (rect.top - arenaRect.top + 40 + Math.random() * 20) + 'px';
                        horseArena.appendChild(dust);
                        setTimeout(() => dust.remove(), 1000);
                    }
                });
            }, 150);

            const interval = setInterval(() => {
                pos.forEach((p, i) => {
                    pos[i] -= speeds[i];
                    horses[i].style.right = pos[i] + '%';
                });

                const winner = pos.findIndex(p => p <= 5);
                if (winner !== -1) {
                    clearInterval(interval);
                    clearInterval(dustInterval);
                    horses.forEach((h, i) => {
                        h.classList.remove('running');
                        if (i === winner) {
                            h.classList.add('winner');
                        }
                    });
                    
                    setTimeout(() => {
                        const result = 'horse' + (winner + 1);
                        const odds = [2.5, 3.0, 2.2];
                        endHorseRace(result, amount, odds[winner]);
                    }, 1000);
                }
            }, 80);
        }

        function endGame(s1, s2, amount, odds1, odds2, oddsDraw) {
            let result;
            if (s1 > s2) result = 'team1';
            else if (s2 > s1) result = 'team2';
            else result = 'draw';

            const oddsMap = { team1: odds1, team2: odds2, draw: oddsDraw };
            checkWin(result, amount, oddsMap[result]);
        }

        function endHorseRace(result, amount, odds) {
            checkWin(result, amount, odds);
        }

        function checkWin(result, amount, odds) {
            if (result === selectedBet) {
                const winAmount = Math.floor(amount * odds);
                showWin(winAmount);
            } else {
                setTimeout(() => {
                    alert('üòî –ù–µ –ø–æ–≤–µ–∑–ª–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!');
                    resetGame();
                }, 1000);
            }
        }

        function showWin(amount) {
            winAmountEl.textContent = '+' + amount + '‚ÇΩ';
            winModal.classList.add('show');
            
            // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = [
                        'var(--accent)', 
                        'var(--purple)', 
                        'var(--orange)',
                        '#FFD700'
                    ][Math.floor(Math.random() * 4)];
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    winModal.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 3000);
                }, i * 30);
            }
        }

        $('claimBtn').addEventListener('click', () => {
            const win = parseInt(winAmountEl.textContent.replace(/\D/g, ''));
            balance += win;
            balanceEl.textContent = balance;
            winModal.classList.remove('show');
            resetGame();
        });

        function resetGame() {
            isPlaying = false;
            selectedBet = null;
            placeBetBtn.disabled = false;
            $$('.bet-card').forEach(c => c.classList.remove('selected'));
            score1El.textContent = '0';
            score2El.textContent = '0';

            if (currentSport === 'horses') {
                $$('.horse').forEach(h => {
                    h.style.right = '95%';
                    h.classList.remove('running', 'winner');
                });
                // –û—á–∏—â–∞–µ–º –ø—ã–ª—å
                $$('.dust').forEach(d => d.remove());
            }

            const ball = $('ball');
            const basketball = $('basketball');
            if (ball) ball.className = 'ball';
            if (basketball) basketball.className = 'basketball';
        }
    </script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, runTransaction, increment } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBVra2JN-C7-1b_Qa4cU8--XvJ83lymiM8",
            authDomain: "dropwin-8d94b.firebaseapp.com",
            projectId: "dropwin-8d94b",
            storageBucket: "dropwin-8d94b.firebasestorage.app",
            messagingSenderId: "988974289403",
            appId: "1:988974289403:web:886d34e6f65920a105fb5e",
            measurementId: "G-BK010MHN8N"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        function setBalanceUI(val) {
            window.balance = val;
            const el = document.getElementById('balance');
            if (el) el.textContent = String(val);
        }

        onAuthStateChanged(auth, async (user) => {
            try {
                if (!user) return;
                const snap = await getDoc(doc(db, 'users', user.uid));
                const data = snap.exists() ? snap.data() : {};
                const val = Number(data.balance || 0);
                setBalanceUI(val);
            } catch (e) {
                console.error('Sport: balance fetch error', e);
            }
        });

        window.__sportUpdateBalance = async function(amount) {
            const user = auth.currentUser;
            if (!user) return;
            const userRef = doc(db, 'users', user.uid);
            try {
                await runTransaction(db, async (tx) => {
                    const snap = await tx.get(userRef);
                    if (!snap.exists()) return;
                    tx.update(userRef, { balance: increment(amount) });
                });
            } catch (e) {
                console.warn('Sport: increment failed', e);
            }
        };
    </script>
</body>
</html>
